import _Set from "@babel/runtime-corejs3/core-js-stable/set";
import filterL from "./filterL.js";
import mapL from "./mapL.js";
import uniqueL from "./uniqueL.js";
import curry2 from "../Strict/curry2.js";
import go1 from "../Strict/go1.js";
import go from "../Strict/go.js";
export default curry2(function intersectionByL(f, iter2, iter1) {
  var set = null;
  return uniqueL(filterL(function (a) {
    return go1(set || go1(mapL(f, iter2), function (l) {
      return set = new _Set(l);
    }), function (set) {
      return go(a, f, function (b) {
        return set.has(b);
      });
    });
  }, iter1));
});